---
author: nifeng
comments: true
date: 2011-02-27 06:36:45+00:00
layout: post
slug: '%e5%86%85%e5%ad%98%e6%b1%a0'
title: 内存池
wordpress_id: 94
categories: tech
tags: [C, C++]
---
内存池是在编程中经常被提到的一个概念，在很多地方都有使用。（先占个坑，回头有时间再详细说明下）

内存池(Memory Pool)是一种内存分配方式。 
通常我们习惯直接使用new、malloc等API申请分配内存，这样做的缺点在于：
由于所申请内存块的大小不定，当频繁使用时会造成大量的内存碎片并进而降低性能。 　　

内存池则是在真正使用内存之前，先申请分配一定数量的、大小相等(一般情况下)的内存块留作备用。
当有新的内存需求时，就从内存池中分出一部分内存块，若内存块不够再继续申请新的内存。
这样做的一个显著优点是尽量避免了内存碎片，使得内存分配效率得到提升,同时避免了频繁的系统开销。

内存池不同于内存泄露，引起内存泄露的原因在于内存分配后指向内存的指针丢失了。
如果没有垃圾处理或其他语言之外的机制，这些内存就不会被收回。
但是在内存池这种分配方式不同于内存泄露，因为它决不会出现内存指针丢失的情况。
